{% load static %}
<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ุฏุจุฑุณุชุงู ูุงุช ุงููุง ุงุจู ุณูุง</title>
  <link rel="stylesheet" href="{% static 'styles.css' %}">
</head>
<body>

  <!-- ๐น ูุฏุฑ -->
  <header class="main-header">
    <div class="header-left">
      <div class="logo">๐ซ ุฏุจุฑุณุชุงู ุงุจู ุณูุง</div>
      <div class="login-buttons">
        <a href="{% url 'avisina:login' %}" class="btn-teacher">ูุฑูุฏ</a>
      </div>
    </div>
    <nav class="main-nav">
      <ul>
        {% if user.is_authenticated %}
        <li><a href="{% url 'avisina:home' %}">ุฎุงูู</a></li>
        <li><a href="{% url 'avisina:about' %}">ุฏุฑุจุงุฑู ูุง</a></li>
        <li><a href="{% url 'avisina:questions' %}">ููููู ุณุคุงูุงุช</a></li>
        <li><a href="{% url 'avisina:student' %}">ูุดุงูุฑู</a></li>

        {% else %}
        <li><a href="{% url 'avisina:home' %}">ุฎุงูู</a></li>
        <li><a href="{% url 'avisina:home' %}">ุฏุฑุจุงุฑู ูุง</a></li>
        {% endif %}
      </ul>
    </nav>
  </header>

  <!-- ๐น ูพุงูโูุง ุณุงุช -->
  {% if messages %}
    {% for message in messages %}
        <div class="site-message" id="siteMessage">{{ message }}</div>
    {% endfor %}
  {% endif %}

  <section class="intro">
    <h1>{% block title %} ุฏุจุฑุณุชุงู ูุชูุณุทู ุฏูู ุงุจู ุณูุง{% endblock %}</h1>
    <p>{% block p %} ุฏุจุฑุณุชุงู ูุชูุณุทู ุฏูู ุงุจู ุณูุง ุจุง ุณุงุจูู ูุฑุงูุงู ุฏุฑ ุญูุฒู ุขููุฒุด ู ุฎุฏูุงุช ุฏุฑ ุณุทุญ ุดูุฑ {% endblock %}</p>
  </section>

  {% block content %}{% endblock %}

  <!-- ๐น ููุชุฑ -->
  <footer class="main-footer" id="contact">
    <div class="footer-main">
      <p>ยฉ ุชูุงู ุญููู ูุญููุธ ุงุณุช - ุฏุจุฑุณุชุงู ูุชูุณุทู ุฏูู ุงุจู ุณูุง</p>
      <p>ุฑุงูโูุง ุงุฑุชุจุงุท: ุงูู | ุชููู | ุดุจฺฉูโูุง ุงุฌุชูุงุน</p>
    </div>
    <div class="footer-bottom">
      <p>ุทุฑุงุญ ู ุชููุฏ</p>
    </div>
  </footer>

  <!-- ๐น ุงุณฺฉุฑูพุช ุงุณูุงุฏุดู ู ูพุงู -->
  <script>
    // ูพุงู ุณุงุช ุจุนุฏ ุงุฒ ต ุซุงูู ูุฎู ุดูุฏ
    window.addEventListener('DOMContentLoaded', () => {
      const msg = document.getElementById('siteMessage');
      if (msg) {
        setTimeout(() => {
          msg.classList.add('hide');
        }, 5000);
      }
    });

    // ุงุณูุงุฏุดู
    let slideIndex = 1;
    let autoSlide;

    function showSlides(n) {
      const slides = document.querySelectorAll(".slide");
      const bars = document.querySelectorAll(".bar");

      if (n > slides.length) slideIndex = 1;
      if (n < 1) slideIndex = slides.length;

      slides.forEach(s => s.classList.remove("active"));
      bars.forEach(b => b.style.opacity = "0.6");

      slides[slideIndex - 1].classList.add("active");
      bars[slideIndex - 1].style.opacity = "1";
    }

    function changeSlide(n) {
      clearTimeout(autoSlide);
      showSlides(slideIndex += n);
      autoSlide = setTimeout(() => changeSlide(1), 4000);
    }

    function currentSlide(n) {
      clearTimeout(autoSlide);
      showSlides(slideIndex = n);
      autoSlide = setTimeout(() => changeSlide(1), 4000);
    }

    function autoPlay() {
      autoSlide = setTimeout(() => {
        changeSlide(1);
        autoPlay();
      }, 4000);
    }

    document.addEventListener("DOMContentLoaded", () => {
      showSlides(slideIndex);
      autoPlay();
    });
  </script>

</body>
</html>
